# ëŒ€í™”í˜• ì»¤ë°‹/í‘¸ì‹œ ì˜ˆì‹œ

## ğŸ¯ ê°œìš”

GitAgentëŠ” **ì»¤ë°‹ ë©”ì‹œì§€ë§Œ ìƒì„±**í•˜ê³ , ì‹¤ì œ ì»¤ë°‹/í‘¸ì‹œëŠ” **ëŒ€í™”í˜• ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤**ë¥¼ í†µí•´ ì‹¤í–‰ë©ë‹ˆë‹¤.

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. ì˜ˆì‹œ ì‹¤í–‰

```bash
# ëŒ€í™”í˜• ì»¤ë°‹/í‘¸ì‹œ ë°ëª¨
tsx automation/examples/commit-example.ts
```

### 2. ì‹¤í–‰ í™”ë©´

```
ğŸš€ ëŒ€í™”í˜• ì»¤ë°‹/í‘¸ì‹œ í”„ë¡œì„¸ìŠ¤ ì‹œì‘

TDD 3ë‹¨ê³„ (RED, GREEN, REFACTOR)ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì»¤ë°‹í•©ë‹ˆë‹¤.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â¸ï¸  RED ë‹¨ê³„ ì»¤ë°‹ ìŠ¹ì¸ ìš”ì²­
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ ìƒì„±ëœ ì»¤ë°‹ ë©”ì‹œì§€:

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  test: RED - ë°˜ë³µ ì¼ì • í…ŒìŠ¤íŠ¸ ì¶”ê°€      â”‚
  â”‚                                          â”‚
  â”‚  - ìœ ë‹› í…ŒìŠ¤íŠ¸: 12ê°œ                     â”‚
  â”‚  - í›… í…ŒìŠ¤íŠ¸: 5ê°œ                        â”‚
  â”‚  - í†µí•© í…ŒìŠ¤íŠ¸: 5ê°œ                      â”‚
  â”‚                                          â”‚
  â”‚  ì´ 22ê°œ í…ŒìŠ¤íŠ¸, ëª¨ë‘ FAIL âœ…            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ ë³€ê²½ëœ íŒŒì¼:

  - src/__tests__/unit/repeatUtils.spec.ts
  - src/__tests__/hooks/useEventForm.spec.ts
  - src/__tests__/integration/repeatEvent.spec.tsx

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ì´ ì»¤ë°‹ì„ ì‹¤í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n): y

âœ… ì»¤ë°‹ì´ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.

ğŸ“¦ íŒŒì¼ ìŠ¤í…Œì´ì§• ì¤‘...
  âœ“ src/__tests__/unit/repeatUtils.spec.ts
  âœ“ src/__tests__/hooks/useEventForm.spec.ts
  âœ“ src/__tests__/integration/repeatEvent.spec.tsx

âœ… íŒŒì¼ ìŠ¤í…Œì´ì§• ì™„ë£Œ

ğŸ’¾ ì»¤ë°‹ ì‹¤í–‰ ì¤‘...

âœ… ì»¤ë°‹ ì™„ë£Œ
   Commit SHA: a1b2c3d

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â¸ï¸  GREEN ë‹¨ê³„ ì»¤ë°‹ ìŠ¹ì¸ ìš”ì²­
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

...

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â¸ï¸  ì›ê²© ì €ì¥ì†Œ í‘¸ì‹œ ìŠ¹ì¸ ìš”ì²­
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“¤ í‘¸ì‹œ ì •ë³´:

  Remote: origin
  Branch: main

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

origin/mainë¡œ í‘¸ì‹œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n): n

â­ï¸  í‘¸ì‹œë¥¼ ê±´ë„ˆë›°ì—ˆìŠµë‹ˆë‹¤.
   (ìˆ˜ë™ìœ¼ë¡œ í‘¸ì‹œí•˜ë ¤ë©´: git push origin main)
```

---

## ğŸ”§ ì‚¬ìš© ë°©ë²•

### Option 1: ì „ì²´ ì›Œí¬í”Œë¡œìš°ì™€ í†µí•©

```typescript
// automation/run.ts
import { getGitExecutor } from './core/git-executor.js';

async function runWorkflow() {
  // ... RED, GREEN, REFACTOR ë‹¨ê³„ ì‹¤í–‰ ...

  // COMMIT ë‹¨ê³„: GitAgentê°€ ë©”ì‹œì§€ ìƒì„±
  const commitMessages = await gitAgent.generateMessages();

  // ëŒ€í™”í˜• ì»¤ë°‹/í‘¸ì‹œ
  const gitExecutor = getGitExecutor();
  await gitExecutor.commitMultipleStages(commitMessages, true);
}
```

### Option 2: ë‹¨ì¼ ì»¤ë°‹

```typescript
import { getGitExecutor } from './core/git-executor.js';
import { closeApprovalManager } from './utils/approval-manager.js';

async function singleCommit() {
  const gitExecutor = getGitExecutor();

  const result = await gitExecutor.commitWithApproval(
    {
      stage: 'GREEN',
      message: 'feat: ê¸°ëŠ¥ êµ¬í˜„',
      files: [], // ë¹ˆ ë°°ì—´ = ìë™ ê°ì§€
    },
    true // enablePush
  );

  console.log('ì»¤ë°‹:', result.committed ? 'âœ…' : 'âŒ');
  console.log('í‘¸ì‹œ:', result.pushed ? 'âœ…' : 'â­ï¸');

  closeApprovalManager();
}
```

### Option 3: ìˆ˜ë™ ì œì–´

```typescript
import { getGitExecutor } from './core/git-executor.js';
import { getApprovalManager } from './utils/approval-manager.js';

async function manualControl() {
  const gitExecutor = getGitExecutor();
  const approvalManager = getApprovalManager();

  // 1. ë³€ê²½ íŒŒì¼ í™•ì¸
  const files = gitExecutor.getChangedFiles();
  console.log('ë³€ê²½ëœ íŒŒì¼:', files);

  // 2. ì»¤ë°‹ ìŠ¹ì¸ë§Œ ìš”ì²­
  const approval = await approvalManager.requestCommitApproval(
    'GREEN',
    'ì»¤ë°‹ ë©”ì‹œì§€',
    files
  );

  if (approval.approved) {
    // 3. ìˆ˜ë™ìœ¼ë¡œ ì»¤ë°‹ ì‹¤í–‰
    // ...
  }
}
```

---

## ğŸ¨ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### ìŠ¹ì¸ ë©”ì‹œì§€ ìˆ˜ì •

```typescript
// automation/utils/approval-manager.ts

// ì»¤ë°‹ ìŠ¹ì¸ ì§ˆë¬¸ ë³€ê²½
const approved = await this.askYesNo(
  chalk.bold.yellow('ì •ë§ ì»¤ë°‹í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (yes/no): ')
);

// í‘¸ì‹œ ìŠ¹ì¸ ì§ˆë¬¸ ë³€ê²½
const approved = await this.askYesNo(
  chalk.bold.red('âš ï¸  ì›ê²© ì €ì¥ì†Œì— í‘¸ì‹œí• ê¹Œìš”? (y/n): ')
);
```

### ìë™ ìŠ¹ì¸ ëª¨ë“œ (CI/CDìš©)

```typescript
// í™˜ê²½ ë³€ìˆ˜ë¡œ ìë™ ìŠ¹ì¸
const AUTO_APPROVE = process.env.AUTO_APPROVE === 'true';

if (AUTO_APPROVE) {
  // ìŠ¹ì¸ ê±´ë„ˆë›°ê³  ìë™ ì‹¤í–‰
  return { approved: true, action: 'commit' };
}
```

---

## âš™ï¸ ì„¤ì •

### config/agent-config.yml

```yaml
git_agent:
  role: "commit_message_generator"  # ë©”ì‹œì§€ë§Œ ìƒì„±
  
  approval_required:
    commit: true  # ì»¤ë°‹ ì‹¤í–‰ ì „ ìŠ¹ì¸ í•„ìš”
    push: true    # í‘¸ì‹œ ì‹¤í–‰ ì „ ìŠ¹ì¸ í•„ìš”

workflow:
  transitions:
    manual_gates: ["COMMIT"]  # COMMIT ë‹¨ê³„ëŠ” ìˆ˜ë™ ìŠ¹ì¸
```

---

## ğŸ”’ ì•ˆì „ ì¥ì¹˜

### 1. 2ë‹¨ê³„ ìŠ¹ì¸

1. **ì»¤ë°‹ ìŠ¹ì¸**: ì»¤ë°‹ ë©”ì‹œì§€ + íŒŒì¼ ëª©ë¡ í™•ì¸ í›„ ìŠ¹ì¸
2. **í‘¸ì‹œ ìŠ¹ì¸**: ì›ê²© ì €ì¥ì†Œë¡œ í‘¸ì‹œ ì—¬ë¶€ ìµœì¢… í™•ì¸

### 2. ê±°ë¶€ ì‹œ ì•ˆë‚´

```bash
# ì»¤ë°‹ ê±°ë¶€ ì‹œ
âŒ ì»¤ë°‹ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.

ğŸ’¡ ë‚˜ì¤‘ì— ìˆ˜ë™ìœ¼ë¡œ ì»¤ë°‹í•˜ë ¤ë©´:
   git add <files>
   git commit -m "..."

# í‘¸ì‹œ ê±°ë¶€ ì‹œ
â­ï¸  í‘¸ì‹œë¥¼ ê±´ë„ˆë›°ì—ˆìŠµë‹ˆë‹¤.
   (ìˆ˜ë™ìœ¼ë¡œ í‘¸ì‹œí•˜ë ¤ë©´: git push origin main)
```

### 3. ë‹¨ê³„ë³„ ì¤‘ë‹¨

```typescript
// í•œ ë‹¨ê³„ë¼ë„ ì»¤ë°‹ ì‹¤íŒ¨í•˜ë©´ ì „ì²´ í”„ë¡œì„¸ìŠ¤ ì¤‘ë‹¨
if (!result.committed) {
  console.log('âŒ RED ë‹¨ê³„ ì»¤ë°‹ ì‹¤íŒ¨. í”„ë¡œì„¸ìŠ¤ë¥¼ ì¤‘ë‹¨í•©ë‹ˆë‹¤.');
  break;
}
```

---

## ğŸ“ ë¡œê·¸

### ì»¤ë°‹ ë¡œê·¸ ìë™ ìƒì„±

```markdown
# Git Commit Log

Generated: 2025-10-29T16:30:00.000Z

## Commits

### Commit 1
- Committed: âœ…
- Pushed: âŒ
- SHA: a1b2c3d

### Commit 2
- Committed: âœ…
- Pushed: âŒ
- SHA: d4e5f6g

### Commit 3
- Committed: âœ…
- Pushed: âœ…
- SHA: h7i8j9k
```

---

## ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### Q: ìŠ¹ì¸ í”„ë¡¬í”„íŠ¸ê°€ ì•ˆ ëœ¨ëŠ” ê²½ìš°

**A**: TTY(í„°ë¯¸ë„) í™˜ê²½ì¸ì§€ í™•ì¸

```bash
# ì˜¬ë°”ë¥¸ ì‹¤í–‰
tsx automation/examples/commit-example.ts

# ì˜ëª»ëœ ì‹¤í–‰ (stdin ì—†ìŒ)
tsx automation/examples/commit-example.ts < /dev/null
```

### Q: Git ëª…ë ¹ ì‹¤íŒ¨

**A**: Git ìƒíƒœ í™•ì¸

```bash
git status
git log --oneline
```

### Q: í‘¸ì‹œ ê¶Œí•œ ì˜¤ë¥˜

**A**: ì›ê²© ì €ì¥ì†Œ ì„¤ì • í™•ì¸

```bash
git remote -v
git config user.name
git config user.email
```

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

1. âœ… ëŒ€í™”í˜• ìŠ¹ì¸ ì‹œìŠ¤í…œ ì™„ë£Œ
2. â³ ì „ì²´ ì›Œí¬í”Œë¡œìš°ì™€ í†µí•©
3. â³ GitAgent AI êµ¬í˜„ (ë©”ì‹œì§€ ìƒì„±)
4. â³ ì‹¤ì œ TDD ì‚¬ì´í´ í…ŒìŠ¤íŠ¸

