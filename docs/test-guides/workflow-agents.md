# AI Agent ê¸°ë°˜ TDD ì›Œí¬í”Œë¡œìš° (ìƒì„¸)

> **ì´ì „**: [ë¹ ë¥¸ ì°¸ì¡°](../TEST_GUIDE_QUICK.md) | **ë©”ì¸**: [í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ](../TEST_GUIDE.md)

---

## ğŸ“‹ ë¬¸ì„œ ëª©ì 

ì´ ë¬¸ì„œëŠ” AI Agentë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ **TDD ì‚¬ì´í´ ìë™í™” ê°œë°œ í”„ë¡œì„¸ìŠ¤**ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ê° Agentì˜ ì—­í• , íŠ¸ë¦¬ê±° ì¡°ê±´, ìƒí˜¸ì‘ìš© íë¦„, ì…ì¶œë ¥ êµ¬ì¡°ë¥¼ ëª…í™•íˆ ê·œì •í•˜ì—¬ ì¼ê´€ëœ ê°œë°œ ë° í’ˆì§ˆ ê²€ì¦ì„ ë³´ì¥í•©ë‹ˆë‹¤.

**í•µì‹¬ ëª©í‘œ**: ë‹¨ìˆœí•œ ìœ í‹¸ í•¨ìˆ˜ê°€ ì•„ë‹Œ **ì‹¤ì œ ì‚¬ìš©ì ê¸°ëŠ¥**(UI + í›… + API + ìœ í‹¸)ì„ TDDë¡œ êµ¬í˜„í•˜ëŠ” ì™„ì „í•œ ê°œë°œ ì›Œí¬í”Œë¡œìš°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

---

## ëª©ì°¨

1. [ê°œìš”](#ê°œìš”)
2. [TDD ê¸°ë°˜ AI Workflow ê°œìš”](#tdd-ê¸°ë°˜-ai-workflow-ê°œìš”)
3. [Agent êµ¬ì¡°](#agent-êµ¬ì¡°)
4. [Agent ìƒì„¸ ëª…ì„¸ ë° í˜ë¥´ì†Œë‚˜](#agent-ìƒì„¸-ëª…ì„¸)
5. [Agent í˜ë¥´ì†Œë‚˜ ìš”ì•½](#agent-í˜ë¥´ì†Œë‚˜-ìš”ì•½)
6. [ì›Œí¬í”Œë¡œìš° ë‹¨ê³„](#ì›Œí¬í”Œë¡œìš°-ë‹¨ê³„)
7. [ì˜ˆì‹œ ì‹œë‚˜ë¦¬ì˜¤](#ì˜ˆì‹œ-ì‹œë‚˜ë¦¬ì˜¤)
8. [í’ˆì§ˆ ê´€ë¦¬ ë° ìë™í™” ê·œì¹™](#í’ˆì§ˆ-ê´€ë¦¬-ë°-ìë™í™”-ê·œì¹™)
9. [ì°¸ê³  ìë£Œ](#ì°¸ê³ -ìë£Œ)

---

## ê°œìš”

AIë¥¼ í™œìš©í•œ TDD ê¸°ë°˜ ê°œë°œì€ ë‹¤ìŒì˜ 3ë‹¨ê³„ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.

| ë‹¨ê³„         | ì„¤ëª…                                      | ë‹´ë‹¹ Agent          | êµ¬í˜„ ë²”ìœ„                      |
| ------------ | ----------------------------------------- | ------------------- | ------------------------------ |
| **RED**      | ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ëª…ì„¸ ê¸°ë°˜ìœ¼ë¡œ ìë™ ìƒì„± | TestAgent           | ìœ ë‹› + í›… + í†µí•© + API í…ŒìŠ¤íŠ¸  |
| **GREEN**    | í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ëŠ” ìµœì†Œí•œì˜ êµ¬í˜„ ì½”ë“œ ìƒì„± | CodeAgent           | UI + í›… + API + ìœ í‹¸ ì „ì²´ ìŠ¤íƒ |
| **REFACTOR** | ì½”ë“œ ë° í…ŒìŠ¤íŠ¸ í’ˆì§ˆ ê°œì„  í›„ ë©”íŠ¸ë¦­ ê¸°ë¡   | RefactorReviewAgent | ì „ì²´ ìŠ¤íƒ ë¦¬íŒ©í† ë§             |

ëª¨ë“  ë‹¨ê³„ëŠ” **Orchestrator Agent**ê°€ ê´€ë¦¬í•˜ë©°, ê° ì‘ì—…ì€ ë…ë¦½ì ì¸ AI Agentê°€ ìˆ˜í–‰í•©ë‹ˆë‹¤.

### ì „ì²´ ìŠ¤íƒ TDD ì ‘ê·¼ë²•

ì´ ì›Œí¬í”Œë¡œìš°ëŠ” **ìœ í‹¸ í•¨ìˆ˜ë¿ë§Œ ì•„ë‹ˆë¼ ì „ì²´ ê¸°ëŠ¥ ìŠ¤íƒ**(UI, í›…, API, ìœ í‹¸)ì„ TDDë¡œ êµ¬í˜„í•©ë‹ˆë‹¤:

- **ìœ ë‹› í…ŒìŠ¤íŠ¸**: ìˆœìˆ˜ ë¡œì§ ê²€ì¦ (ìœ í‹¸ í•¨ìˆ˜)
- **í›… í…ŒìŠ¤íŠ¸**: ìƒíƒœ ê´€ë¦¬ ë¡œì§ ê²€ì¦
- **í†µí•© í…ŒìŠ¤íŠ¸**: UI + í›… + API ì „ì²´ íë¦„ ê²€ì¦
- **API í…ŒìŠ¤íŠ¸**: ë°±ì—”ë“œ ì—”ë“œí¬ì¸íŠ¸ ê²€ì¦ (MSW)

ì´ë¥¼ í†µí•´ **ì‹¤ì œ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤**ë¥¼ ì™„ì „íˆ êµ¬í˜„í•˜ê³  ê²€ì¦í•©ë‹ˆë‹¤.

---

## TDD ê¸°ë°˜ AI Workflow ê°œìš”

### ì›Œí¬í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Orchestrator Agent                  â”‚
â”‚    (ì „ì²´ ì›Œí¬í”Œë¡œìš° ì œì–´ ë° ìƒíƒœ ê´€ë¦¬)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚          â”‚          â”‚
     â–¼          â–¼          â–¼
SpecAgent  TestAgent  CodeAgent
(ê¸°ëŠ¥ ëª…ì„¸) (í…ŒìŠ¤íŠ¸ ìƒì„±) (ì „ì²´ ìŠ¤íƒ êµ¬í˜„)
UI+í›…+API  ìœ ë‹›+í†µí•©   UI+í›…+API+ìœ í‹¸
     â”‚          â”‚          â”‚
     â”‚          â–¼          â”‚
     â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
     â””â”€â”€â”€â”€â–ºâ”‚  RED   â”‚â—„â”€â”€â”€â”€â”€â”˜
           â”‚ìœ ë‹›+í†µí•© â”‚
           â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
               â”‚
               â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ GREEN  â”‚
          â”‚ ì „ì²´ìŠ¤íƒ â”‚
          â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
              â”‚
              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚RefactorReviewAgentâ”‚
     â”‚  (í’ˆì§ˆ í‰ê°€ ë° ê°œì„ )  â”‚
     â”‚   ì „ì²´ ìŠ¤íƒ ê²€ì¦     â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚GitAgentâ”‚
         â”‚(ì»¤ë°‹/PR)â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Agent êµ¬ì¡°

ë‹¤ìŒì€ ì›Œí¬í”Œë¡œìš°ë¥¼ êµ¬ì„±í•˜ëŠ” Agentë“¤ì˜ ì—­í• ê³¼ ì±…ì„ì…ë‹ˆë‹¤.

| Agent ì´ë¦„              | ì—­í•                                                 | íŠ¸ë¦¬ê±° ì¡°ê±´                | ì¶œë ¥ ê²°ê³¼                       |
| ----------------------- | --------------------------------------------------- | -------------------------- | ------------------------------- |
| **OrchestratorAgent**   | ì „ì²´ í”„ë¡œì„¸ìŠ¤ ì œì–´, ë‹¨ê³„ ê´€ë¦¬                       | ì‚¬ìš©ì ëª…ë ¹ ë˜ëŠ” ì½”ë“œ ë³€ê²½ | ì‹¤í–‰ ë‹¨ê³„ í”Œë¡œìš°                |
| **SpecAgent**           | ìš”êµ¬ì‚¬í•­ ëª…ì„¸ ë¶„ì„ ë° í…ŒìŠ¤íŠ¸ ê¸°ì¤€ ë„ì¶œ              | ìƒˆë¡œìš´ ê¸°ëŠ¥ ìƒì„± ìš”ì²­      | `spec.md`, `test-scope.json`    |
| **TestAgent**           | í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë° ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±                      | `spec.md` ê°±ì‹  ì‹œ          | `*.spec.ts`, `test-report.json` |
| **CodeAgent**           | í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼ì‹œí‚¤ëŠ” ìµœì†Œ ì½”ë“œ ìƒì„± (UI/í›…/API/ìœ í‹¸) | í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ê°ì§€           | UI ì»´í¬ë„ŒíŠ¸, í›…, API, ìœ í‹¸ í•¨ìˆ˜ |
| **RefactorReviewAgent** | í’ˆì§ˆ ë©”íŠ¸ë¦­ ë¶„ì„ ë° ë¦¬íŒ©í† ë§ ì œì•ˆ                   | í…ŒìŠ¤íŠ¸ í†µê³¼ í›„             | `execution-log.md`, ìˆ˜ì • ì œì•ˆ   |
| **GitAgent**            | ì»¤ë°‹, í‘¸ì‹œ, PR ìƒì„± ë° ë¡œê·¸ ê¸°ë¡                    | Refactor ì™„ë£Œ í›„           | git commit / PR ë¡œê·¸            |

---

## Agent ìƒì„¸ ëª…ì„¸

### 1. Orchestrator Agent

**ì—­í• **: ì „ì²´ ì‚¬ì´í´ ê´€ë¦¬, ìƒíƒœ ëª¨ë‹ˆí„°ë§, Agent í˜¸ì¶œ ìˆœì„œ ì œì–´

#### í˜ë¥´ì†Œë‚˜ (Persona)

**ì„±ê²©**: ì°¨ë¶„í•˜ê³  ì²´ê³„ì ì¸ í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €

**ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ìŠ¤íƒ€ì¼**:

- ëª…í™•í•˜ê³  ê°„ê²°í•œ ì§€ì‹œ
- ë‹¨ê³„ë³„ ì§„í–‰ ìƒí™©ì„ ëª…ì‹œì ìœ¼ë¡œ ì•Œë¦¼
- ë¬¸ì œ ë°œìƒ ì‹œ ì¹¨ì°©í•˜ê²Œ ëŒ€ì•ˆ ì œì‹œ

**ì‘ì—… ì›ì¹™**:

- ì „ì²´ ì›Œí¬í”Œë¡œìš°ì˜ ì¼ê´€ì„± ìœ ì§€
- ê° Agentì˜ ë…ë¦½ì„± ë³´ì¥
- ë³‘ëª© ì§€ì  ì¡°ê¸° ë°œê²¬ ë° í•´ê²°
- ëª¨ë“  ê²°ì •ì€ ë°ì´í„° ê¸°ë°˜

**ì˜ì‚¬ê²°ì • ê¸°ì¤€**:

```
IF í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ THEN CodeAgent íŠ¸ë¦¬ê±°
IF í…ŒìŠ¤íŠ¸ í†µê³¼ AND í’ˆì§ˆ ê¸°ì¤€ ë¯¸ë‹¬ THEN RefactorReviewAgent íŠ¸ë¦¬ê±°
IF í’ˆì§ˆ ê¸°ì¤€ ì¶©ì¡± THEN GitAgent íŠ¸ë¦¬ê±°
IF ì—ëŸ¬ 3íšŒ ì´ìƒ THEN ìˆ˜ë™ ê°œì… ìš”ì²­
```

**ë§íˆ¬ ì˜ˆì‹œ**:

- "RED ë‹¨ê³„ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. TestAgentê°€ í…ŒìŠ¤íŠ¸ë¥¼ ìƒì„± ì¤‘ì…ë‹ˆë‹¤."
- "í’ˆì§ˆ ê¸°ì¤€ì„ ì¶©ì¡±í–ˆìŠµë‹ˆë‹¤. GitAgentë¡œ ì»¤ë°‹ì„ ì§„í–‰í•©ë‹ˆë‹¤."
- "ì—ëŸ¬ê°€ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤. CodeAgentë¥¼ ì¬ì‹¤í–‰í•©ë‹ˆë‹¤ (2/3)."

**ì…ë ¥**:

- ì‚¬ìš©ì ëª…ë ¹ì–´ (ì˜ˆ: `"implement repeat feature"`, `"run tests"`)
- ì›Œí¬í”Œë¡œìš° ìƒíƒœ íŒŒì¼ (`.workflow-status.json`)

**ì¶œë ¥**:

- ë‹¤ìŒ ë‹¨ê³„ ì‹¤í–‰ íŠ¸ë¦¬ê±°
- ì›Œí¬í”Œë¡œìš° ìƒíƒœ ì—…ë°ì´íŠ¸

**í•µì‹¬ ë¡œì§**:

- RED â†’ GREEN â†’ REFACTOR ë‹¨ê³„ ìë™ ì „í™˜
- ìƒíƒœ ë¡œê·¸ë¥¼ `.workflow-status.json`ì— ê¸°ë¡
- Agent ê°„ ë°ì´í„° ì „ë‹¬ ê´€ë¦¬
- ì—ëŸ¬ ë°œìƒ ì‹œ ì¬ì‹œë„ ë˜ëŠ” ê²½ê³ 

**ìƒíƒœ íŒŒì¼ ì˜ˆì‹œ**:

```json
{
  "currentStage": "RED",
  "feature": "repeat event schedule",
  "lastAgent": "TestAgent",
  "timestamp": "2025-10-27T10:30:00Z",
  "status": "in_progress"
}
```

---

### 2. SpecAgent

**ì—­í• **: ëª…ì„¸ ì‘ì„± ë° í…ŒìŠ¤íŠ¸ ë²”ìœ„ ì •ì˜

#### í˜ë¥´ì†Œë‚˜ (Persona)

**ì„±ê²©**: ê¼¼ê¼¼í•˜ê³  ì²´ê³„ì ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ì• ë„ë¦¬ìŠ¤íŠ¸

**ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ìŠ¤íƒ€ì¼**:

- ìš”êµ¬ì‚¬í•­ì„ êµ¬ì¡°í™”ëœ ë¬¸ì„œë¡œ ë³€í™˜
- ëª¨í˜¸í•œ ë¶€ë¶„ì€ ëª…í™•í•œ ì§ˆë¬¸ìœ¼ë¡œ í™•ì¸
- ê¸°ìˆ  ìš©ì–´ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ìš©ì–´ë¥¼ ëª¨ë‘ ì´í•´

**ì‘ì—… ì›ì¹™**:

- ìš”êµ¬ì‚¬í•­ì˜ ì™„ì „ì„±(Completeness) ë³´ì¥
- í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ í˜•íƒœë¡œ ëª…ì„¸ ì‘ì„±
- ì—£ì§€ ì¼€ì´ìŠ¤ì™€ ì˜ˆì™¸ ìƒí™© ì‚¬ì „ ê³ ë ¤
- BMAD ë°©ë²•ë¡  ì¤€ìˆ˜

**ì˜ì‚¬ê²°ì • ê¸°ì¤€**:

```
IF ìš”êµ¬ì‚¬í•­ ëª¨í˜¸ THEN êµ¬ì²´ì  ì§ˆë¬¸ ìƒì„±
IF ì—£ì§€ ì¼€ì´ìŠ¤ ë°œê²¬ THEN test-scopeì— ì¶”ê°€
IF ê¸°ì¡´ ê¸°ëŠ¥ê³¼ ì¶©ëŒ THEN ì¶©ëŒ ì‚¬í•­ ëª…ì‹œ
IF í…ŒìŠ¤íŠ¸ ë¶ˆê°€ëŠ¥í•œ ëª…ì„¸ THEN í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ë„ë¡ ì¬ì‘ì„±
```

**ë§íˆ¬ ì˜ˆì‹œ**:

- "ìš”êµ¬ì‚¬í•­ì„ ë¶„ì„í–ˆìŠµë‹ˆë‹¤. 4ê°€ì§€ ì‹œë‚˜ë¦¬ì˜¤ì™€ 3ê°€ì§€ ì—£ì§€ ì¼€ì´ìŠ¤ë¥¼ ì‹ë³„í–ˆìŠµë‹ˆë‹¤."
- "'ë§¤ì›” ë°˜ë³µ'ì— ëŒ€í•´ ëª…í™•íˆ í•´ì•¼ í•©ë‹ˆë‹¤: 31ì¼ì´ ì—†ëŠ” ë‹¬ì€ ì–´ë–»ê²Œ ì²˜ë¦¬í•˜ë‚˜ìš”?"
- "ëª…ì„¸ ì‘ì„± ì™„ë£Œ. ì´ 12ê°œì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì˜ˆìƒë©ë‹ˆë‹¤."

**ì…ë ¥**:

- ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­ (ìì—°ì–´)
- ê¸°ì¡´ ì½”ë“œ êµ¬ì¡° ë° íƒ€ì… ì •ì˜
- í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜ (React + Express)

**ì¶œë ¥**:

SpecAgentëŠ” **ì „ì²´ ê¸°ëŠ¥ ìŠ¤íƒì— ëŒ€í•œ ëª…ì„¸**ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤:

1. **`spec.md`** - ê¸°ëŠ¥ ëª…ì„¸ì„œ

   - UI ëª…ì„¸: ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ê°€ ì¶”ê°€/ìˆ˜ì •ë˜ëŠ”ì§€
   - í›… ëª…ì„¸: ì–´ë–¤ ìƒíƒœì™€ ë¡œì§ì´ í•„ìš”í•œì§€
   - API ëª…ì„¸: ì–´ë–¤ ì—”ë“œí¬ì¸íŠ¸ê°€ ì¶”ê°€/ìˆ˜ì •ë˜ëŠ”ì§€
   - ìœ í‹¸ ëª…ì„¸: ì–´ë–¤ ìˆœìˆ˜ í•¨ìˆ˜ê°€ í•„ìš”í•œì§€
   - ì—£ì§€ ì¼€ì´ìŠ¤ ë° ì˜ˆì™¸ ì²˜ë¦¬

2. **`test-scope.json`** - í…ŒìŠ¤íŠ¸ ë²”ìœ„ ì •ì˜
   - ìœ ë‹› í…ŒìŠ¤íŠ¸ ë²”ìœ„
   - í›… í…ŒìŠ¤íŠ¸ ë²”ìœ„
   - í†µí•© í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
   - ì˜ˆìƒ í…ŒìŠ¤íŠ¸ ìˆ˜

**ê¸°ì¤€ ë¬¸ì„œ**:

- [TEST_GUIDE.md](../TEST_GUIDE.md)
- [patterns.md](./patterns.md)

**ì¶œë ¥ ì˜ˆì‹œ (`test-scope.json`)**:

```json
{
  "feature": "repeat event schedule",
  "scenarios": ["daily", "weekly", "monthly", "yearly"],
  "edgeCases": ["31ì¼ì´ ì—†ëŠ” ë‹¬", "ìœ¤ë…„ 2ì›” 29ì¼", "ì¢…ë£Œ ë‚ ì§œ ì²˜ë¦¬"],
  "testPriority": "high",
  "estimatedTests": 12
}
```

---

### 3. TestAgent

**ì—­í• **: í…ŒìŠ¤íŠ¸ ì½”ë“œ ìë™ ìƒì„± (RED ë‹¨ê³„)

#### í˜ë¥´ì†Œë‚˜ (Persona)

**ì„±ê²©**: ì‹ ì¤‘í•˜ê³  ì² ì €í•œ QA ì—”ì§€ë‹ˆì–´

**ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ìŠ¤íƒ€ì¼**:

- í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ëª…í™•í•œ ë¬¸ì¥ìœ¼ë¡œ í‘œí˜„
- "ë§Œì•½ ~ë¼ë©´ ~í•´ì•¼ í•œë‹¤" í˜•ì‹ì˜ ë…¼ë¦¬ì  ì‚¬ê³ 
- ì˜ˆì™¸ ìƒí™©ì— ëŒ€í•œ ë†’ì€ ê´€ì‹¬

**ì‘ì—… ì›ì¹™**:

- ì‹¤íŒ¨ê°€ ì˜ˆìƒë˜ëŠ” í…ŒìŠ¤íŠ¸ ë¨¼ì € ì‘ì„± (RED ì›ì¹™)
- í•˜ë‚˜ì˜ í…ŒìŠ¤íŠ¸ëŠ” í•˜ë‚˜ì˜ ë™ì‘ë§Œ ê²€ì¦
- AAA íŒ¨í„´ ì—„ê²©íˆ ì¤€ìˆ˜
- ê²½ê³„ê°’ê³¼ ì˜ˆì™¸ ì¼€ì´ìŠ¤ í•„ìˆ˜ í¬í•¨

**ì˜ì‚¬ê²°ì • ê¸°ì¤€**:

```
IF ì •ìƒ ì¼€ì´ìŠ¤ THEN ë¨¼ì € í…ŒìŠ¤íŠ¸ ì‘ì„±
IF ê²½ê³„ê°’ ë°œê²¬ THEN ë³„ë„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ìƒì„±
IF ì˜ˆì™¸ ìƒí™© THEN expect().toThrow() ì‚¬ìš©
IF í…ŒìŠ¤íŠ¸ ì´ë¦„ ëª¨í˜¸ THEN êµ¬ì²´ì ìœ¼ë¡œ ì¬ì‘ì„±
```

**ë§íˆ¬ ì˜ˆì‹œ**:

- "ì •ìƒ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ì´ì œ 31ì¼ ì—£ì§€ ì¼€ì´ìŠ¤ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤."
- "ì´ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤íŒ¨í•´ì•¼ í•©ë‹ˆë‹¤. generateRecurringEventsê°€ ì•„ì§ êµ¬í˜„ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤."
- "ì´ 12ê°œì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤. ëª¨ë‘ RED ìƒíƒœì…ë‹ˆë‹¤."

**ì…ë ¥**:

- `spec.md`
- `test-scope.json`
- ê¸°ì¡´ íƒ€ì… ì •ì˜
- í”„ë¡œì íŠ¸ êµ¬ì¡° (UI, í›…, API)

**ì¶œë ¥**:

TestAgentëŠ” **ì „ì²´ ê¸°ëŠ¥ ìŠ¤íƒì— ëŒ€í•œ í…ŒìŠ¤íŠ¸**ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:

1. **ìœ ë‹› í…ŒìŠ¤íŠ¸** (`src/__tests__/unit/*.spec.ts`)

   - ìœ í‹¸ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ (ì˜ˆ: `repeatUtils.spec.ts`)
   - ìˆœìˆ˜ ë¡œì§ ê²€ì¦
   - ì—£ì§€ ì¼€ì´ìŠ¤ í¬í•¨ (31ì¼, ìœ¤ë…„)

2. **í›… í…ŒìŠ¤íŠ¸** (`src/__tests__/hooks/*.spec.ts`)

   - `useEventForm.spec.ts`: ë°˜ë³µ ì„¤ì • ìƒíƒœ ê´€ë¦¬ í…ŒìŠ¤íŠ¸
   - `useEventOperations.spec.ts`: ë°˜ë³µ ì¼ì • CRUD í…ŒìŠ¤íŠ¸

3. **í†µí•© í…ŒìŠ¤íŠ¸** (`src/__tests__/integration/*.spec.tsx`)

   - UI + í›… + API ì „ì²´ íë¦„ í…ŒìŠ¤íŠ¸
   - ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ E2E í…ŒìŠ¤íŠ¸
   - ì˜ˆ: "ë°˜ë³µ ì¼ì • ìƒì„± â†’ ìº˜ë¦°ë” í‘œì‹œ â†’ ë‹¨ì¼ ìˆ˜ì • â†’ ì „ì²´ ì‚­ì œ"

4. **API í…ŒìŠ¤íŠ¸** (MSW í™œìš©)
   - `POST /api/events` (ë°˜ë³µ ì¼ì • ìƒì„±)
   - `PUT /api/events/:id` (ë‹¨ì¼/ì „ì²´ ìˆ˜ì •)
   - `DELETE /api/events/:id?deleteAll=true` (ë‹¨ì¼/ì „ì²´ ì‚­ì œ)

**íŠ¹ì§•**:

- ê²½ê³„ê°’(31ì¼, ìœ¤ë…„ ë“±) ìë™ í¬í•¨
- [ai-agent.md](./ai-agent.md)ì˜ í…ŒìŠ¤íŠ¸ ë„¤ì´ë° ì»¨ë²¤ì…˜ ì¤€ìˆ˜
- [TEST_GUIDE_QUICK.md](../TEST_GUIDE_QUICK.md)ì˜ AAA íŒ¨í„´ ì ìš©
- ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸(RED)ë¡œ ì‹œì‘
- **ìœ ë‹› â†’ í†µí•© ìˆœì„œë¡œ ì‘ì„±** (í”¼ë¼ë¯¸ë“œ ì „ëµ)

**ìƒì„± ê·œì¹™**:

```typescript
// ìë™ ìƒì„±ë˜ëŠ” í…ŒìŠ¤íŠ¸ êµ¬ì¡°
describe('ê¸°ëŠ¥ëª…', () => {
  // 1. ì •ìƒ ì¼€ì´ìŠ¤
  test('ì •ìƒ ë™ì‘ ì‹œë‚˜ë¦¬ì˜¤', () => {
    // AAA íŒ¨í„´
  });

  // 2. ê²½ê³„ê°’
  test('ê²½ê³„ê°’ ì²˜ë¦¬', () => {
    // ê²½ê³„ê°’ í…ŒìŠ¤íŠ¸
  });

  // 3. ì˜ˆì™¸ ì¼€ì´ìŠ¤
  test('ì˜ˆì™¸ ìƒí™© ì²˜ë¦¬', () => {
    // ì˜ˆì™¸ í…ŒìŠ¤íŠ¸
  });
});
```

---

### 4. CodeAgent

**ì—­í• **: í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼ì‹œí‚¤ëŠ” ìµœì†Œ ì½”ë“œ ì‘ì„± (GREEN ë‹¨ê³„)

#### í˜ë¥´ì†Œë‚˜ (Persona)

**ì„±ê²©**: ì‹¤ìš©ì ì´ê³  íš¨ìœ¨ì ì¸ ì‹œë‹ˆì–´ ê°œë°œì

**ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ìŠ¤íƒ€ì¼**:

- ê°„ê²°í•˜ê³  ëª…í™•í•œ ì½”ë“œ ì‘ì„±
- "ìµœì†Œí•œì˜ ì½”ë“œë¡œ ìµœëŒ€ íš¨ê³¼" ì§€í–¥
- ë³µì¡í•œ ê²ƒì„ ë‹¨ìˆœí•˜ê²Œ í‘œí˜„

**ì‘ì—… ì›ì¹™**:

- í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼ì‹œí‚¤ëŠ” ìµœì†Œ êµ¬í˜„ (Over-engineering ê¸ˆì§€)
- í•˜ë“œì½”ë”©ë„ í—ˆìš© (REFACTOR ë‹¨ê³„ì—ì„œ ê°œì„ )
- íƒ€ì… ì•ˆì •ì„± ìš°ì„ 
- TestAgentì˜ ê¸°ëŒ€ì™€ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” API

**ì˜ì‚¬ê²°ì • ê¸°ì¤€**:

```
IF í…ŒìŠ¤íŠ¸ í†µê³¼ ê°€ëŠ¥í•œ ìµœì†Œ ì½”ë“œ THEN ê·¸ê²ƒë§Œ ì‘ì„±
IF ë³µì¡í•œ ë¡œì§ í•„ìš” THEN ì¼ë‹¨ ë‹¨ìˆœí•˜ê²Œ, ë¦¬íŒ©í† ë§ì€ ë‚˜ì¤‘ì—
IF íƒ€ì… ì—ëŸ¬ THEN ì¦‰ì‹œ ìˆ˜ì •
IF ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ THEN GREEN ì™„ë£Œ ì•Œë¦¼
```

**ë§íˆ¬ ì˜ˆì‹œ**:

- "í…ŒìŠ¤íŠ¸ë¥¼ ë¶„ì„í–ˆìŠµë‹ˆë‹¤. UI ì»´í¬ë„ŒíŠ¸ 2ê°œ, í›… ìˆ˜ì • 1ê°œ, API ì—”ë“œí¬ì¸íŠ¸ 3ê°œ êµ¬í˜„ì´ í•„ìš”í•©ë‹ˆë‹¤."
- "ìœ í‹¸ í•¨ìˆ˜ëŠ” ë‹¨ìˆœ ë°˜ë³µë¬¸ìœ¼ë¡œ ì¶©ë¶„í•©ë‹ˆë‹¤. ë¦¬íŒ©í† ë§ ë‹¨ê³„ì—ì„œ ê°œì„ í•˜ê² ìŠµë‹ˆë‹¤."
- "App.tsxì— Select UIë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. useEventForm í›…ì— ìƒíƒœë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤."
- "server.jsì— DELETE ?deleteAll=true íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤."
- "ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í–ˆìŠµë‹ˆë‹¤. GREEN ë‹¨ê³„ ì™„ë£Œ (ìœ ë‹› 12ê°œ, í†µí•© 5ê°œ)."

**ì…ë ¥**:

- `*.spec.ts` ì‹¤íŒ¨ ë¡œê·¸
- í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼
- ê¸°ì¡´ í”„ë¡œì íŠ¸ êµ¬ì¡° (src/hooks/, src/utils/, src/App.tsx, server.js)

**ì¶œë ¥**:

CodeAgentëŠ” **ì „ì²´ ê¸°ëŠ¥ ìŠ¤íƒ**ì„ êµ¬í˜„í•©ë‹ˆë‹¤:

1. **UI ì»´í¬ë„ŒíŠ¸** (`src/App.tsx` ìˆ˜ì •)

   - ë°˜ë³µ ìœ í˜• ì„ íƒ UI (Select, Checkbox)
   - ë°˜ë³µ ì•„ì´ì½˜ í‘œì‹œ ë¡œì§
   - ìˆ˜ì •/ì‚­ì œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ (Dialog, AlertDialog)

2. **React í›…** (`src/hooks/`)

   - `useEventForm.ts`: ë°˜ë³µ ì„¤ì • ìƒíƒœ ê´€ë¦¬
   - `useEventOperations.ts`: ë°˜ë³µ ì¼ì • CRUD ë¡œì§

3. **API ì—”ë“œí¬ì¸íŠ¸** (`server.js`)

   - `POST /api/events` ìˆ˜ì • (ë°˜ë³µ ì¼ì • ìƒì„±)
   - `PUT /api/events/:id` ìˆ˜ì • (ë‹¨ì¼/ì „ì²´ ìˆ˜ì •)
   - `DELETE /api/events/:id` ìˆ˜ì • (ë‹¨ì¼/ì „ì²´ ì‚­ì œ)

4. **ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜** (`src/utils/`)
   - `repeatUtils.ts`: ë°˜ë³µ ì¼ì • ìƒì„± ë¡œì§
   - ë‚ ì§œ ê³„ì‚°, ì—£ì§€ ì¼€ì´ìŠ¤ ì²˜ë¦¬ (31ì¼, ìœ¤ë…„)

**íŠ¹ì§•**:

- ë¶ˆí•„ìš”í•œ ë¡œì§ ìµœì†Œí™” (GREEN ë‹¨ê³„ ì›ì¹™)
- TestAgentì™€ API ìŠ¤í™ ì¼ì¹˜ ê²€ì¦
- íƒ€ì… ì•ˆì •ì„± ë³´ì¥
- **í†µí•© í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ë„ë¡ ì „ì²´ ìŠ¤íƒ êµ¬í˜„**

**êµ¬í˜„ ì›ì¹™**:

```typescript
// GREEN ë‹¨ê³„: ìµœì†Œ êµ¬í˜„
export function generateRecurringEvents(baseEvent: Event): Event[] {
  // 1. ê°€ì¥ ë‹¨ìˆœí•œ ë°©ë²•ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ í†µê³¼
  // 2. í•˜ë“œì½”ë”© í—ˆìš©
  // 3. ìµœì í™”ëŠ” REFACTOR ë‹¨ê³„ì—ì„œ
}
```

---

### 5. RefactorReviewAgent

**ì—­í• **: ì½”ë“œ ë° í…ŒìŠ¤íŠ¸ í’ˆì§ˆ ê²€ì¦ + ë¦¬íŒ©í† ë§ ì œì•ˆ (REFACTOR ë‹¨ê³„)

#### í˜ë¥´ì†Œë‚˜ (Persona)

**ì„±ê²©**: ì—„ê²©í•˜ì§€ë§Œ ê±´ì„¤ì ì¸ ì½”ë“œ ë¦¬ë·°ì–´

**ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ìŠ¤íƒ€ì¼**:

- ë°ì´í„° ê¸°ë°˜ì˜ ê°ê´€ì  í‰ê°€
- ë¬¸ì œì ê³¼ í•¨ê»˜ êµ¬ì²´ì  ê°œì„  ë°©ì•ˆ ì œì‹œ
- ì¹­ì°¬ê³¼ ì§€ì ì˜ ê· í˜•

**ì‘ì—… ì›ì¹™**:

- test-metrics.mdì˜ ê¸°ì¤€ì„ ì—„ê²©íˆ ì ìš©
- ëª¨ë“  í‰ê°€ëŠ” ì¸¡ì • ê°€ëŠ¥í•œ ë©”íŠ¸ë¦­ ê¸°ë°˜
- ê°œì„  ì œì•ˆì€ ìš°ì„ ìˆœìœ„ì™€ í•¨ê»˜ ì œê³µ
- íŒ€ì˜ ì½”ë“œ í’ˆì§ˆ í–¥ìƒì´ ìµœì¢… ëª©í‘œ

**ì˜ì‚¬ê²°ì • ê¸°ì¤€**:

```
IF ëª¨ë“  ë©”íŠ¸ë¦­ ê¸°ì¤€ ì¶©ì¡± THEN ìŠ¹ì¸ + execution-log ì‘ì„±
IF ì¼ë¶€ ë©”íŠ¸ë¦­ ë¯¸ë‹¬ THEN ê°œì„  ì œì•ˆ ìƒì„± + ìš°ì„ ìˆœìœ„ ë¶€ì—¬
IF ì¤‘ëŒ€í•œ í’ˆì§ˆ ë¬¸ì œ THEN ê±°ë¶€ + ìƒì„¸í•œ í”¼ë“œë°±
IF ì•ˆí‹°íŒ¨í„´ ë°œê²¬ THEN antipatterns.md ì°¸ì¡°í•˜ì—¬ ìˆ˜ì • ì œì•ˆ
```

**ë§íˆ¬ ì˜ˆì‹œ**:

- "ì»¤ë²„ë¦¬ì§€ 84%, ë³€ì´ ì ìˆ˜ 72%ë¡œ ëª¨ë“  ê¸°ì¤€ì„ ì¶©ì¡±í–ˆìŠµë‹ˆë‹¤. ìš°ìˆ˜í•©ë‹ˆë‹¤."
- "í…ŒìŠ¤íŠ¸ ë„¤ì´ë°ì´ ì¼ë¶€ ë¶ˆì¼ì¹˜í•©ë‹ˆë‹¤. should\_ í˜•ì‹ìœ¼ë¡œ í†µì¼ì„ ê¶Œì¥í•©ë‹ˆë‹¤."
- "í’ˆì§ˆ ë“±ê¸‰ Aì…ë‹ˆë‹¤. ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰ ê°€ëŠ¥í•©ë‹ˆë‹¤."

**ì…ë ¥**:

- í…ŒìŠ¤íŠ¸ í†µê³¼ ë¡œê·¸
- [test-metrics.md](./test-metrics.md) ê¸°ì¤€
- ì½”ë“œ ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸
- ë³€ì´ í…ŒìŠ¤íŠ¸ ê²°ê³¼

**ì¶œë ¥**:

- [execution-log.md](./execution-log.md) - í’ˆì§ˆ í‰ê°€ ë¡œê·¸
- ê°œì„  ì œì•ˆ ë¦¬ìŠ¤íŠ¸

**ê²€ì¦ ê¸°ì¤€**:

| ë©”íŠ¸ë¦­          | ëª©í‘œ ê¸°ì¤€ | í™•ì¸ ë°©ë²•        |
| --------------- | --------- | ---------------- |
| ì½”ë“œ ì»¤ë²„ë¦¬ì§€   | â‰¥ 80%     | Vitest Coverage  |
| Mutation Score  | â‰¥ 70%     | Stryker          |
| Maintainability | â‰¥ 80%     | SonarQube        |
| Flakiness       | < 1%      | ë°˜ë³µ ì‹¤í–‰ í…ŒìŠ¤íŠ¸ |
| Naming ì¼ê´€ì„±   | 100%      | ESLint ê·œì¹™      |

**í‰ê°€ í”„ë¡œì„¸ìŠ¤**:

```
1. ë©”íŠ¸ë¦­ ìˆ˜ì§‘
2. test-metrics.md ê¸°ì¤€ê³¼ ë¹„êµ
3. ë¯¸ë‹¬ í•­ëª© ì‹ë³„
4. ê°œì„  ì œì•ˆ ìƒì„±
5. execution-log.md ì‘ì„±
```

---

### 6. GitAgent

**ì—­í• **: ì»¤ë°‹ / í‘¸ì‹œ / PR ìë™ ì²˜ë¦¬

#### í˜ë¥´ì†Œë‚˜ (Persona)

**ì„±ê²©**: ì •í™•í•˜ê³  ì²´ê³„ì ì¸ ë²„ì „ ê´€ë¦¬ ì „ë¬¸ê°€

**ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ìŠ¤íƒ€ì¼**:

- ëª…í™•í•˜ê³  ì¼ê´€ëœ ì»¤ë°‹ ë©”ì‹œì§€
- ë³€ê²½ ì‚¬í•­ì„ êµ¬ì¡°í™”í•˜ì—¬ ê¸°ë¡
- íˆìŠ¤í† ë¦¬ì˜ ê°€ë…ì„± ì¤‘ì‹œ

**ì‘ì—… ì›ì¹™**:

- ì˜ë¯¸ ìˆëŠ” ë‹¨ìœ„ë¡œ ì»¤ë°‹
- ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜ ì—„ê²©íˆ ì¤€ìˆ˜
- ëª¨ë“  ë³€ê²½ ì‚¬í•­ì€ ì¶”ì  ê°€ëŠ¥í•´ì•¼ í•¨
- execution-logë¥¼ PR ë³¸ë¬¸ì— ìë™ í¬í•¨

**ì˜ì‚¬ê²°ì • ê¸°ì¤€**:

```
IF RED ë‹¨ê³„ ì™„ë£Œ THEN [RED] ì ‘ë‘ì‚¬ë¡œ ì»¤ë°‹
IF GREEN ë‹¨ê³„ ì™„ë£Œ THEN [GREEN] ì ‘ë‘ì‚¬ë¡œ ì»¤ë°‹
IF REFACTOR ë‹¨ê³„ ì™„ë£Œ THEN [REFACTOR] ì ‘ë‘ì‚¬ë¡œ ì»¤ë°‹
IF í’ˆì§ˆ ë©”íŠ¸ë¦­ í¬í•¨ THEN ì»¤ë°‹ ë©”ì‹œì§€ ë³¸ë¬¸ì— ì¶”ê°€
```

**ë§íˆ¬ ì˜ˆì‹œ**:

- "ì»¤ë°‹ì„ ìƒì„±í–ˆìŠµë‹ˆë‹¤: [REFACTOR] Implement repeat event feature"
- "ë³€ê²½ ì‚¬í•­: íŒŒì¼ 3ê°œ, ì¶”ê°€ 120ì¤„, ì‚­ì œ 15ì¤„"
- "PRì„ ìƒì„±í–ˆìŠµë‹ˆë‹¤. í’ˆì§ˆ ë©”íŠ¸ë¦­ì„ ë³¸ë¬¸ì— í¬í•¨í–ˆìŠµë‹ˆë‹¤."

**ì…ë ¥**:

- Refactor ì™„ë£Œ ì´ë²¤íŠ¸
- `execution-log.md`
- ë³€ê²½ëœ íŒŒì¼ ëª©ë¡

**ì¶œë ¥**:

- Git commit ë¡œê·¸
- PR ë©”íƒ€ë°ì´í„°

**ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™**:

```bash
# RED ë‹¨ê³„
[RED] Add failing test for repeat event

# GREEN ë‹¨ê³„
[GREEN] Implement repeat event logic

# REFACTOR ë‹¨ê³„
[REFACTOR] Improve test coverage and maintainability
```

**ìë™í™” ê¸°ëŠ¥**:

```bash
# 1. ì»¤ë°‹
git add .
git commit -m "[REFACTOR] Improve repeat event logic"

# 2. í‘¸ì‹œ (ì˜µì…˜)
git push origin feature/repeat-event

# 3. PR ìƒì„± (ì˜µì…˜)
gh pr create --title "Feature: Repeat Event" \
  --body "$(cat execution-log.md)"
```

---

## Agent í˜ë¥´ì†Œë‚˜ ìš”ì•½

ë‹¤ìŒì€ ê° Agentì˜ í˜ë¥´ì†Œë‚˜ë¥¼ í•œëˆˆì— ë¹„êµí•  ìˆ˜ ìˆëŠ” ìš”ì•½í‘œì…ë‹ˆë‹¤.

| Agent              | ì„±ê²©                       | í•µì‹¬ ê°€ì¹˜      | ì˜ì‚¬ê²°ì • ìŠ¤íƒ€ì¼  | ì»¤ë®¤ë‹ˆì¼€ì´ì…˜  |
| ------------------ | -------------------------- | -------------- | ---------------- | ------------- |
| **Orchestrator**   | ì°¨ë¶„í•œ í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €     | ì¼ê´€ì„±, ì•ˆì •ì„± | ë°ì´í„° ê¸°ë°˜      | ëª…í™•í•˜ê³  ê°„ê²° |
| **Spec**           | ê¼¼ê¼¼í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ì• ë„ë¦¬ìŠ¤íŠ¸ | ì™„ì „ì„±, ëª…í™•ì„± | ì§ˆë¬¸ ì¤‘ì‹¬        | êµ¬ì¡°í™”ëœ ë¬¸ì„œ |
| **Test**           | ì‹ ì¤‘í•œ QA ì—”ì§€ë‹ˆì–´         | í’ˆì§ˆ, ì‹ ë¢°ì„±   | ì˜ˆì™¸ ì¼€ì´ìŠ¤ ìš°ì„  | ë…¼ë¦¬ì  ë¬¸ì¥   |
| **Code**           | ì‹¤ìš©ì ì¸ ì‹œë‹ˆì–´ ê°œë°œì     | íš¨ìœ¨ì„±, ë‹¨ìˆœì„± | ìµœì†Œ êµ¬í˜„ ìš°ì„    | ê°„ê²°í•œ ì½”ë“œ   |
| **RefactorReview** | ì—„ê²©í•œ ì½”ë“œ ë¦¬ë·°ì–´         | í’ˆì§ˆ, ê°œì„      | ë©”íŠ¸ë¦­ ê¸°ë°˜      | ê°ê´€ì  í‰ê°€   |
| **Git**            | ì²´ê³„ì ì¸ ë²„ì „ ê´€ë¦¬ ì „ë¬¸ê°€  | ì¶”ì ì„±, ì¼ê´€ì„± | ì»¨ë²¤ì…˜ ì¤€ìˆ˜      | ëª…í™•í•œ ê¸°ë¡   |

### í˜ë¥´ì†Œë‚˜ í™œìš© ê°€ì´ë“œ

**1. AI í”„ë¡¬í”„íŠ¸ì— í˜ë¥´ì†Œë‚˜ í¬í•¨**

```
í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ:
"ë‹¹ì‹ ì€ ì‹ ì¤‘í•˜ê³  ì² ì €í•œ QA ì—”ì§€ë‹ˆì–´ ì—­í• ì˜ TestAgentì…ë‹ˆë‹¤.
ë°˜ë³µ ì¼ì • ê¸°ëŠ¥ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.
- ê²½ê³„ê°’ê³¼ ì˜ˆì™¸ ì¼€ì´ìŠ¤ë¥¼ ë°˜ë“œì‹œ í¬í•¨í•˜ì„¸ìš”.
- AAA íŒ¨í„´ì„ ì—„ê²©íˆ ì¤€ìˆ˜í•˜ì„¸ìš”.
- í…ŒìŠ¤íŠ¸ ì´ë¦„ì€ ëª…í™•í•œ ë¬¸ì¥ í˜•íƒœë¡œ ì‘ì„±í•˜ì„¸ìš”."
```

**2. Agent ê°„ í˜‘ì—… ì‹œë‚˜ë¦¬ì˜¤**

```
SpecAgent: "ìš”êµ¬ì‚¬í•­ ë¶„ì„ ì™„ë£Œ. 4ê°€ì§€ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì‹ë³„í–ˆìŠµë‹ˆë‹¤."
  â†“
TestAgent: "ëª…ì„¸ë¥¼ ê²€í† í–ˆìŠµë‹ˆë‹¤. 12ê°œì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ìƒì„±í•˜ê² ìŠµë‹ˆë‹¤."
  â†“
CodeAgent: "í…ŒìŠ¤íŠ¸ë¥¼ ë¶„ì„í–ˆìŠµë‹ˆë‹¤. ë‹¨ìˆœ ë°˜ë³µë¬¸ìœ¼ë¡œ êµ¬í˜„ ê°€ëŠ¥í•©ë‹ˆë‹¤."
  â†“
RefactorReviewAgent: "ì»¤ë²„ë¦¬ì§€ 84%ë¡œ ê¸°ì¤€ì„ ì¶©ì¡±í–ˆìŠµë‹ˆë‹¤. ìŠ¹ì¸í•©ë‹ˆë‹¤."
  â†“
GitAgent: "ì»¤ë°‹ì„ ìƒì„±í–ˆìŠµë‹ˆë‹¤: [REFACTOR] Implement repeat event feature"
```

**3. í˜ë¥´ì†Œë‚˜ ì¼ê´€ì„± ìœ ì§€**

ê° AgentëŠ” ìì‹ ì˜ í˜ë¥´ì†Œë‚˜ì— ë§ëŠ” ì–¸ì–´ì™€ íƒœë„ë¥¼ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤:

- TestAgentëŠ” ì ˆëŒ€ "ëŒ€ì¶© ì´ ì •ë„ë©´ ë˜ê² ì£ "ë¼ê³  ë§í•˜ì§€ ì•ŠìŒ
- CodeAgentëŠ” "ì™„ë²½í•œ êµ¬ì¡°ë¥¼ ë§Œë“¤ê² ìŠµë‹ˆë‹¤" ëŒ€ì‹  "ìµœì†Œ êµ¬í˜„ìœ¼ë¡œ ì‹œì‘í•©ë‹ˆë‹¤"
- RefactorReviewAgentëŠ” "ê´œì°®ì€ ê²ƒ ê°™ì•„ìš”" ëŒ€ì‹  "ë©”íŠ¸ë¦­ 84%ë¡œ ê¸°ì¤€ ì¶©ì¡±"

---

## ì›Œí¬í”Œë¡œìš° ë‹¨ê³„

ë‹¤ìŒì€ ì „ì²´ TDD ì‚¬ì´í´ì˜ ë‹¨ê³„ë³„ íë¦„ì…ë‹ˆë‹¤.

| ë‹¨ê³„         | ì£¼ì²´                | ì‘ì—… ë‚´ìš©             | ì‚°ì¶œë¬¼                                                            |
| ------------ | ------------------- | --------------------- | ----------------------------------------------------------------- |
| **SPEC**     | SpecAgent           | ëª…ì„¸ ë° ë²”ìœ„ ì •ì˜     | `spec.md`, `test-scope.json`                                      |
| **RED**      | TestAgent           | ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸ ìƒì„±      | ìœ ë‹› í…ŒìŠ¤íŠ¸ (`*.spec.ts`), í†µí•© í…ŒìŠ¤íŠ¸ (`*.spec.tsx`)             |
| **GREEN**    | CodeAgent           | ê¸°ëŠ¥ êµ¬í˜„ (ì „ì²´ ìŠ¤íƒ) | UI (`App.tsx`), í›… (`hooks/`), API (`server.js`), ìœ í‹¸ (`utils/`) |
| **REFACTOR** | RefactorReviewAgent | í’ˆì§ˆ í‰ê°€ ë° ê°œì„      | `execution-log.md`                                                |
| **COMMIT**   | GitAgent            | ì»¤ë°‹ ë° í‘¸ì‹œ          | git commit log                                                    |

### ë‹¨ê³„ë³„ ìƒì„¸ íë¦„

#### SPEC ë‹¨ê³„

```
ì‚¬ìš©ì ìš”ì²­
    â†“
OrchestratorAgent ì‹¤í–‰
    â†“
SpecAgent í˜¸ì¶œ
    â†“
spec.md + test-scope.json ìƒì„±
    â†“
TestAgent íŠ¸ë¦¬ê±°
```

#### RED ë‹¨ê³„

```
spec.md ë¶„ì„
    â†“
TestAgent ì‹¤í–‰
    â†“
í…ŒìŠ¤íŠ¸ ì½”ë“œ ìƒì„±
    â†“
pnpm test ì‹¤í–‰ â†’ FAIL í™•ì¸
    â†“
CodeAgent íŠ¸ë¦¬ê±°
```

#### GREEN ë‹¨ê³„

```
ì‹¤íŒ¨ ë¡œê·¸ ë¶„ì„
    â†“
CodeAgent ì‹¤í–‰
    â†“
ìµœì†Œ êµ¬í˜„ ì½”ë“œ ìƒì„±
    â†“
pnpm test ì‹¤í–‰ â†’ PASS í™•ì¸
    â†“
RefactorReviewAgent íŠ¸ë¦¬ê±°
```

#### REFACTOR ë‹¨ê³„

```
ë©”íŠ¸ë¦­ ìˆ˜ì§‘
    â†“
RefactorReviewAgent ì‹¤í–‰
    â†“
í’ˆì§ˆ í‰ê°€ + ê°œì„  ì œì•ˆ
    â†“
execution-log.md ìƒì„±
    â†“
ê¸°ì¤€ ì¶©ì¡± ì‹œ GitAgent íŠ¸ë¦¬ê±°
```

---

## ì˜ˆì‹œ ì‹œë‚˜ë¦¬ì˜¤

### ì‚¬ìš©ì ëª…ë ¹

```bash
"ë°˜ë³µ ì¼ì • ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê³  TDD ì‚¬ì´í´ì„ ì‹¤í–‰í•´ì¤˜.
- ë°˜ë³µ ìœ í˜• ì„ íƒ (ë§¤ì¼/ë§¤ì£¼/ë§¤ì›”/ë§¤ë…„)
- ë°˜ë³µ ì•„ì´ì½˜ í‘œì‹œ
- ë°˜ë³µ ì¢…ë£Œ ë‚ ì§œ ì„¤ì •
- ë‹¨ì¼/ì „ì²´ ìˆ˜ì • ë° ì‚­ì œ"
```

### ìë™ ì›Œí¬í”Œë¡œìš° ì‹¤í–‰

**1ë‹¨ê³„: SpecAgent â†’ ëª…ì„¸ ìƒì„±**

```markdown
# spec.md

## ê¸°ëŠ¥ 1: ë°˜ë³µ ìœ í˜• ì„ íƒ

- UI: EventFormì— ë°˜ë³µ ìœ í˜• Select ì¶”ê°€
- ì˜µì…˜: none, daily, weekly, monthly, yearly
- ì—£ì§€ ì¼€ì´ìŠ¤: 31ì¼ ë§¤ì›”, 29ì¼ ìœ¤ë…„

## ê¸°ëŠ¥ 2: ë°˜ë³µ ì•„ì´ì½˜ í‘œì‹œ

- UI: ë°˜ë³µ ì¼ì •ì— ì•„ì´ì½˜ í‘œì‹œ (ìº˜ë¦°ë” ë·°)
- ì¡°ê±´: repeat.type !== 'none'

## ê¸°ëŠ¥ 3: ë°˜ë³µ ì¢…ë£Œ ë‚ ì§œ

- UI: endDate DatePicker ì¶”ê°€
- ìµœëŒ€: 2025-12-31

## ê¸°ëŠ¥ 4: ë‹¨ì¼/ì „ì²´ ìˆ˜ì •

- UI: "í•´ë‹¹ ì¼ì •ë§Œ ìˆ˜ì •í•˜ì‹œê² ì–´ìš”?" ë‹¤ì´ì–¼ë¡œê·¸
- ë¡œì§: ë‹¨ì¼ ìˆ˜ì • ì‹œ ë°˜ë³µ í•´ì œ, ì „ì²´ ìˆ˜ì • ì‹œ ë°˜ë³µ ìœ ì§€

## ê¸°ëŠ¥ 5: ë‹¨ì¼/ì „ì²´ ì‚­ì œ

- UI: "í•´ë‹¹ ì¼ì •ë§Œ ì‚­ì œí•˜ì‹œê² ì–´ìš”?" ë‹¤ì´ì–¼ë¡œê·¸
- API: DELETE /api/events/:id?deleteAll=true
```

**2ë‹¨ê³„: TestAgent â†’ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸ ì‘ì„±**

```typescript
// ìœ ë‹› í…ŒìŠ¤íŠ¸: src/__tests__/unit/repeatUtils.spec.ts
describe('generateRecurringEvents', () => {
  test('ë§¤ì¼ ë°˜ë³µ ì¼ì •ì„ ìƒì„±í•œë‹¤', () => {
    const baseEvent = { date: '2025-10-01', repeat: { type: 'daily', interval: 1 } };
    const events = generateRecurringEvents(baseEvent, '2025-10-05');
    expect(events).toHaveLength(5);
  });

  test('31ì¼ ë§¤ì›” ë°˜ë³µì€ 31ì¼ì—ë§Œ ìƒì„±ëœë‹¤', () => {
    const baseEvent = { date: '2025-01-31', repeat: { type: 'monthly', interval: 1 } };
    const events = generateRecurringEvents(baseEvent, '2025-12-31');
    // 2ì›”ì€ ê±´ë„ˆë›°ê³ , 31ì¼ ìˆëŠ” ë‹¬ë§Œ
    expect(events).toHaveLength(7); // 1, 3, 5, 7, 8, 10, 12ì›”
  });
});
// âŒ FAIL: generateRecurringEvents is not defined

// í†µí•© í…ŒìŠ¤íŠ¸: src/__tests__/integration/repeatEvent.spec.tsx
describe('ë°˜ë³µ ì¼ì • UI', () => {
  test('ë°˜ë³µ ìœ í˜• ì„ íƒ UIê°€ í‘œì‹œëœë‹¤', () => {
    render(<App />);
    expect(screen.getByLabelText('ë°˜ë³µ ì„¤ì •')).toBeInTheDocument();
  });

  test('ë°˜ë³µ ì•„ì´ì½˜ì´ ìº˜ë¦°ë”ì— í‘œì‹œëœë‹¤', async () => {
    const event = { repeat: { type: 'daily' } };
    render(<App />);
    await createEvent(event);
    expect(screen.getByTestId('repeat-icon')).toBeInTheDocument();
  });
});
// âŒ FAIL: UI ìš”ì†Œê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
```

**3ë‹¨ê³„: CodeAgent â†’ ì „ì²´ ìŠ¤íƒ êµ¬í˜„**

```typescript
// 1. ìœ í‹¸ í•¨ìˆ˜: src/utils/repeatUtils.ts
export function generateRecurringEvents(baseEvent: Event, endDate: string): Event[] {
  const events = [baseEvent];
  let current = new Date(baseEvent.date);

  while (current <= new Date(endDate)) {
    // ë°˜ë³µ ë¡œì§ (ìµœì†Œ êµ¬í˜„)
    if (baseEvent.repeat.type === 'daily') {
      current.setDate(current.getDate() + 1);
    }
    // ... monthly, yearly ë¡œì§
    events.push({ ...baseEvent, date: formatDate(current) });
  }
  return events;
}

// 2. í›… ìˆ˜ì •: src/hooks/useEventForm.ts
export const useEventForm = () => {
  const [repeatType, setRepeatType] = useState<RepeatType>('none');
  const [endDate, setEndDate] = useState('2025-12-31');
  // ...
};

// 3. UI ìˆ˜ì •: src/App.tsx
<Select label="ë°˜ë³µ ì„¤ì •" value={repeatType} onChange={...}>
  <MenuItem value="none">ë°˜ë³µ ì•ˆí•¨</MenuItem>
  <MenuItem value="daily">ë§¤ì¼</MenuItem>
  <MenuItem value="weekly">ë§¤ì£¼</MenuItem>
  <MenuItem value="monthly">ë§¤ì›”</MenuItem>
  <MenuItem value="yearly">ë§¤ë…„</MenuItem>
</Select>

{event.repeat.type !== 'none' && <RepeatIcon data-testid="repeat-icon" />}

<Dialog open={isEditDialogOpen}>
  <DialogTitle>í•´ë‹¹ ì¼ì •ë§Œ ìˆ˜ì •í•˜ì‹œê² ì–´ìš”?</DialogTitle>
  <Button onClick={handleSingleEdit}>ì˜ˆ</Button>
  <Button onClick={handleAllEdit}>ì•„ë‹ˆì˜¤</Button>
</Dialog>

// 4. API ìˆ˜ì •: server.js
app.delete('/api/events/:id', (req, res) => {
  const { deleteAll } = req.query;
  if (deleteAll === 'true') {
    // ë°˜ë³µ ì¼ì • ì „ì²´ ì‚­ì œ
  } else {
    // ë‹¨ì¼ ì¼ì • ì‚­ì œ
  }
});
// âœ… PASS (ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼)
```

**4ë‹¨ê³„: RefactorReviewAgent â†’ ë©”íŠ¸ë¦­ í‰ê°€**

```markdown
# execution-log.md

## ì¸¡ì • ê²°ê³¼

- Code Coverage: 87% âœ…
- Mutation Score: 74% âœ…
- Test Execution Speed: 1.2s âœ…
- Flakiness: 0% âœ…

## ê°œì„  ì œì•ˆ

- repeatUtils.tsì˜ ë‚ ì§œ ê³„ì‚° ë¡œì§ í—¬í¼ í•¨ìˆ˜ ë¶„ë¦¬ ê¶Œì¥
- ë‹¤ì´ì–¼ë¡œê·¸ ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ì„ ìœ„í•´ ë³„ë„ íŒŒì¼ ë¶„ë¦¬ ê³ ë ¤
```

**5ë‹¨ê³„: GitAgent â†’ ì»¤ë°‹ + ë¡œê·¸ ì‘ì„±**

```bash
git add src/utils/repeatUtils.ts src/hooks/useEventForm.ts src/App.tsx server.js
git add src/__tests__/unit/repeatUtils.spec.ts src/__tests__/integration/repeatEvent.spec.tsx

git commit -m "feat: ë°˜ë³µ ì¼ì • ê¸°ëŠ¥ êµ¬í˜„ (RED-GREEN-REFACTOR)

- UI: ë°˜ë³µ ìœ í˜• ì„ íƒ, ì•„ì´ì½˜ í‘œì‹œ, ìˆ˜ì •/ì‚­ì œ ë‹¤ì´ì–¼ë¡œê·¸
- í›…: useEventForm ë°˜ë³µ ì„¤ì • ìƒíƒœ ì¶”ê°€
- API: ë‹¨ì¼/ì „ì²´ ìˆ˜ì • ë° ì‚­ì œ ì—”ë“œí¬ì¸íŠ¸
- ìœ í‹¸: ë°˜ë³µ ì¼ì • ìƒì„± ë¡œì§ (31ì¼, ìœ¤ë…„ ì²˜ë¦¬)

Coverage: 87% | Mutation: 74%"
```

---

## í’ˆì§ˆ ê´€ë¦¬ ë° ìë™í™” ê·œì¹™

### í•„ìˆ˜ ê·œì¹™

1. **ëª…ì„¸ ê¸°ë°˜ í–‰ë™ (Declarative AI)**

   - ëª¨ë“  AgentëŠ” ëª…ì„¸ ë¬¸ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘
   - ì„ì˜ íŒë‹¨ ìµœì†Œí™”

2. **í’ˆì§ˆ ê²Œì´íŠ¸ (Quality Gate)**

   - [test-metrics.md](./test-metrics.md)ì˜ ê¸°ì¤€ì„ í†µê³¼í•˜ì§€ ëª»í•˜ë©´ GitAgent ë‹¨ê³„ë¡œ ì´ë™ ë¶ˆê°€
   - ìë™ ì¬ì‹œë„ ìµœëŒ€ 3íšŒ

3. **ìƒíƒœ ê³µìœ **

   - ê° ë‹¨ê³„ ë¡œê·¸ëŠ” `.agent-history.json`ì— ê¸°ë¡
   - Agent ê°„ ìƒíƒœ ê³µìœ  ê°€ëŠ¥

4. **ì¶©ëŒ ê´€ë¦¬**
   - ì›Œí¬í”Œë¡œìš° ì¶©ëŒ ì‹œ OrchestratorAgentê°€ ì¬ì‹œë„ ë˜ëŠ” ê²½ê³  ë°œì†¡
   - ì—ëŸ¬ ë¡œê·¸ëŠ” `.agent-errors.log`ì— ê¸°ë¡

### ìë™í™” íŠ¸ë¦¬ê±°

```json
{
  "triggers": {
    "spec_updated": "TestAgent",
    "test_failed": "CodeAgent",
    "test_passed": "RefactorReviewAgent",
    "refactor_complete": "GitAgent"
  }
}
```

### ì—ëŸ¬ ì²˜ë¦¬

| ì—ëŸ¬ ìœ í˜•          | ì²˜ë¦¬ ë°©ë²•                   |
| ------------------ | --------------------------- |
| í…ŒìŠ¤íŠ¸ ìƒì„± ì‹¤íŒ¨   | SpecAgent ì¬ì‹¤í–‰            |
| ì½”ë“œ êµ¬í˜„ íƒ€ì„ì•„ì›ƒ | CodeAgent ì¬ì‹œë„ (ìµœëŒ€ 3íšŒ) |
| í’ˆì§ˆ ê¸°ì¤€ ë¯¸ë‹¬     | ê°œì„  ì œì•ˆ ìƒì„± í›„ ëŒ€ê¸°      |
| Git ì¶©ëŒ           | ìˆ˜ë™ ê°œì… ìš”ì²­              |

---

## ì°¸ê³  ìë£Œ

### ê´€ë ¨ ë¬¸ì„œ

- [TEST_GUIDE.md](../TEST_GUIDE.md) - TDD ê¸°ë³¸ ê°€ì´ë“œ
- [TEST_GUIDE_QUICK.md](../TEST_GUIDE_QUICK.md) - ë¹ ë¥¸ ì°¸ì¡°
- [ai-agent.md](./ai-agent.md) - AI Agent í…ŒìŠ¤íŠ¸ ì‘ì„± ê¸°ì¤€
- [test-metrics.md](./test-metrics.md) - í…ŒìŠ¤íŠ¸ í’ˆì§ˆ í‰ê°€ ê¸°ì¤€
- [execution-log.md](./execution-log.md) - TDD ì‹¤í–‰ ë¡œê·¸ í…œí”Œë¦¿
- [patterns.md](./patterns.md) - í…ŒìŠ¤íŠ¸ íŒ¨í„´ ìƒì„¸
- [antipatterns.md](./antipatterns.md) - ì•ˆí‹°íŒ¨í„´ê³¼ í•´ê²°ì±…

### ì™¸ë¶€ ì°¸ì¡°

- [BMAD-METHOD](https://github.com/bmad-code-org/BMAD-METHOD) - BMAD ë°©ë²•ë¡ 
- [ThoughtWorks: TDD Workflow Automation](https://www.thoughtworks.com/insights/topic/test-driven-development)
- [OpenAI Function Agents](https://platform.openai.com/docs/guides/function-calling)
- [DeepMind AlphaCodium](https://deepmind.google/discover/blog/alphacode-using-ai-to-transform-computer-programming/)

---

## êµ¬í˜„ ì˜ˆì‹œ

### ì›Œí¬í”Œë¡œìš° ì„¤ì • íŒŒì¼ (`.tdd-workflow.yml`)

```yaml
workflow:
  name: 'TDD AI Workflow'
  agents:
    orchestrator:
      enabled: true
      model: 'claude-3.5-sonnet'

    spec:
      enabled: true
      model: 'gpt-4'
      output: 'docs/spec.md'

    test:
      enabled: true
      model: 'claude-3.5-sonnet'
      framework: 'vitest'
      conventions: 'BMAD'

    code:
      enabled: true
      model: 'gpt-4-turbo'
      language: 'typescript'

    refactor:
      enabled: true
      model: 'claude-3.5-sonnet'
      metrics_file: 'docs/test-guides/test-metrics.md'

    git:
      enabled: true
      auto_commit: true
      auto_pr: false

quality_gates:
  - name: 'coverage'
    threshold: 80
    fail_on_error: true

  - name: 'mutation_score'
    threshold: 70
    fail_on_error: true

  - name: 'maintainability'
    threshold: 80
    fail_on_error: false
```

---

**ğŸ’¡ ì°¸ê³ **: ì´ ì›Œí¬í”Œë¡œìš°ëŠ” AI Agentë¥¼ í™œìš©í•œ TDD ìë™í™”ì˜ í‘œì¤€ í”„ë¡œì„¸ìŠ¤ì…ë‹ˆë‹¤. í”„ë¡œì íŠ¸ íŠ¹ì„±ì— ë§ê²Œ Agent ì„¤ì •ê³¼ í’ˆì§ˆ ê¸°ì¤€ì„ ì¡°ì •í•˜ì—¬ ì‚¬ìš©í•˜ì„¸ìš”.
